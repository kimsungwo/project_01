/* 페이지 로딩 후 실행 */
$(document).ready(function(){
	$(document).on('change', '#selectChain', function(){
		let chainCode = $("#selectChain option:selected").val();
		selectChain(chainCode);
	});
	
});

/* 함수선언 영역*/
(function($){
	
	//매장 등록 함수
	regCafe = function() {
		let chain = $("#selectChain option:selected").val();
		if(chain == ''){
			alert('체인점 목록을 선택 해 주세요');
			return;
		}
		else {
			alert('매장 등록이 성공적으로 완료되었습니다.');
			$('#regForm').submit();
		}	
	}
	
	//체인점 선택시 해당 로고가 뜰 수 있게 ajax
	selectChain = function(chainCode) {
	    	$.ajax({
	            url: '/owner/selectChainLogo', //요청경로
	            type: 'post',
	            data:{'chainCode' : chainCode}, //필요한 데이터
	            success: function(result) {
	               //ajax 실행 성공 후 실행할 코드 작성
	            	if(result == 'noimage.jpg') {
	            		$('#logoDiv').empty();
	            		let str = '';
	            		str += '<div class="form-group">';
	            		str += '<label for="exampleFormControlFile1">이미지 파일등록</label>';
	            		str += '<input type="file" class="form-control-file" id="exampleFormControlFile1" name="file1">';
	            		str += '</div>';
	            		$('#logoDiv').after(str);
	            	}
	            	else if(result == '') {
	            		$('#logoDiv').empty();
	            	}
	            	else {
	            		$('.form-group').remove();
	            		$('#logoDiv').empty();
	            		let str = '';
	 	               str += '<img src="/resources/img/logo/' + result + '" width="200px">'
	 	               str += '<input type="hidden" value="'+ result + '" name="cafeLogo">'
	 	               $('#logoDiv').prepend(str);
	            	}
	            },
	            error: function(){
	             //ajax 실행 실패 시 실행되는 구간
	               alert('실패');
	            }
	      });
	    }
	
	
	
    aaa = function(){
    	$.ajax({
            url: '', //요청경로
            type: 'post',
            data:{}, //필요한 데이터
            success: function(result) {
               //ajax 실행 성공 후 실행할 코드 작성
               alert('성공');
            },
            error: function(){
             //ajax 실행 실패 시 실행되는 구간
               alert('실패');
            }
      });
    }
	
})(jQuery);